{"version":3,"sources":["../../../src/app/core/dependencies.js"],"names":["server","config","on","client","stz","is","attrs","type","getChild","query","children","name","channel","send","from","to","console","log","toString"],"mappings":"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","file":"dependencies.js","sourcesContent":["import ltx from 'ltx';\nimport Account from '../xmpp/account/account';\nimport Friends from '../xmpp/account/friends';\nimport MasterServer from '../xmpp/masterserver/masterserver';\nimport MasterServers from '../xmpp/masterserver/masterservers';\nimport Profile from '../xmpp/profile/profile';\nimport Items from '../xmpp/items/items';\nimport JoinChannel from '../xmpp/joinchannel/joinchannel';\nimport Settings from '../xmpp/settings/settings';\nimport Shop from '../xmpp/shop/shop';\nimport ShopBuyOffer from '../xmpp/shop/shop_buy_offer';\nimport Configs from '../xmpp/configs/configs';\nimport SwitchChannel from '../xmpp/switchchannel/switchchannel';\nimport Missions from '../xmpp/missions/missions';\nimport Clans from '../xmpp/clans/clans';\nimport GameroomOpen from '../xmpp/gameroom/gameroomopen';\nimport SetPlayer from '../xmpp/gameroom/setplayer';\nimport SetPrivateStatus from '../xmpp/gameroom/setprivatestatus';\nimport StatusUpdate from '../xmpp/playerstatus/statusupdate';\nimport Sync from '../xmpp/gameroom/sync';\nimport CryMoney from '../xmpp/crymoney/crymoney';\nimport PlayerStats from '../xmpp/playerstats/playerstats';\nimport PlayerStatus from '../xmpp/playerstatus/playerstatus';\nimport Contracts from '../xmpp/contracts/contracts';\nimport ProfilePerformance from '../xmpp/profileperformance/profileperformance';\nimport SeenDate from '../xmpp/seendate/seendate';\nimport Message from '../xmpp/message/message';\nimport Invitation from '../xmpp/invitation/invitation';\nimport Achievements from '../xmpp/achievements/achievements';\nimport Lobbychat from '../xmpp/lobbychat/lobbychat';\nimport QuickplayMaplist from '../xmpp/quickplaymaplist/quickplaymaplist';\nimport ExpiredItems from '../xmpp/expireditems/expireditems';\nimport PeerStatusUpdate from '../xmpp/peerstatusupdate/peerstatusupdate';\nimport SetCharacter from '../xmpp/setcharacter/setcharacter';\n// import ResyncProfile from '../xmpp/resyncprofile/resyncprofile';\n \nexport default (server, config) => {\n\tserver.on('connect', function(client) {\n        client.on('stanza', function(stz) {\n\n        \tif (stz.is('iq')) {\n        \t\tif(stz.attrs.type === \"get\" && stz.getChild('query', \"urn:cryonline:k01\")){\n        \t\t\t\n        \t\t\tconst query = stz.getChild('query', \"urn:cryonline:k01\").children[0];\n\n        \t\t\tswitch(query.name){\n                        \n                        case 'account':\n                        \tAccount(client, stz);\n                            Friends(client, stz);\n                        \tbreak;\n                        case 'get_account_profiles':\n                            Profile(client, stz);\n                            break;\n                        case 'items':\n                            Items(client, stz);\n                            break;\n                        case 'join_channel':\n                            JoinChannel(client, stz, query.attrs);\n                            break;\n                        case 'persistent_settings_get':\n                        \tSettings(client, stz);\n                        \tbreak;\n                        case 'get_master_server':\n                        \tMasterServer(client, stz, query.attrs.channel);\n                        \tbreak;\n                        case 'shop_get_offers':\n                        \tShop(client, stz);\n                        \tbreak;\n                        case 'shop_buy_offer':\n                            ShopBuyOffer(client, stz, query.attrs);\n                            break;\n                        case 'get_configs':\n                        \tConfigs(client, stz);\n                        \tbreak;\n                        case 'switch_channel':\n                            SwitchChannel(client, stz, query.attrs);\n                            break;\n                        case 'missions_get_list':\n                            Missions(client, stz);\n                            break;\n                        case 'clan_list':\n                            Clans(client, stz);\n                            break;\n                        case 'get_cry_money':\n                            CryMoney(client, stz);\n                            break;\n                        case 'get_player_stats':\n                            PlayerStats(client, stz);\n                            break;\n                        case 'player_status':\n                            PlayerStatus(client, stz, query.attrs);\n                            break;\n                        case 'peer_status_update':\n                            StatusUpdate(client, stz, query.attrs);\n                            break;\n                        case 'get_contracts':\n                            Contracts(client, stz);\n                            break;\n                        case 'get_profile_performance':\n                            ProfilePerformance(client, stz);\n                            break;\n                        case 'get_master_servers':\n                            MasterServers(client, stz);\n                            break;\n                        case 'message':\n                            Message(client, stz, query.attrs);\n                            break;\n                        case 'get_last_seen_date':\n                            SeenDate(client, stz, query.attrs);\n                            break;\n                        case 'send_invitation':\n                            //Invitation(client, stz, query.attrs);\n                            break;\n                        case 'get_achievements':\n                            Achievements(client, stz);\n                            break;\n                        case 'lobbychat_getchannelid':\n                            Lobbychat(client, stz);\n                            break;\n                        case 'quickplay_maplist':\n                            QuickplayMaplist(client, stz);\n                            break;\n                        case 'peer_status_update':\n                            PeerStatusUpdate(client, stz, query.attrs);\n                            break;\n                        // case 'gameroom_setplayer':\n                            \n                        //     break;\n                        case 'gameroom_setprivatestatus':\n                            SetPrivateStatus(client, stz, query.attrs);\n                            break;\n                        case 'gameroom_setplayer':\n                            SetPlayer(client, stz, query.attrs);\n                            Sync(client, stz, query.attrs);\n                            break;\n                        case 'gameroom_open':\n                            GameroomOpen(client, stz, query.attrs);\n                            break;\n                        case 'get_expired_items':\n                            ExpiredItems(client, stz);\n                            break;\n                        case 'setcharacter':\n                            SetCharacter(client, stz, query.attrs);\n                            break;\n                        case 'get_storage_items':\n                            client.send(stz)\n                            break;\n                        case 'resync_profile':\n                            client.send(stz)\n                            break;\n                        default:\n                            let from = stz.attrs.from\n                            stz.attrs.from = stz.attrs.to\n                            stz.attrs.to = from\n                            client.send(stz)\n                            //console.log('Query não configurada ------------------ ');\n                            //console.log(stz.toString(), '\\n');\n                            break;\n                    }\n\n        \t\t}\n\n        \t}\n\n            console.log(stz.toString(), '\\n');\n\n        });\n    });\n};"]}