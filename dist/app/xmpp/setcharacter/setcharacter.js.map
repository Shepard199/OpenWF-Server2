{"version":3,"sources":["../../../../src/app/xmpp/setcharacter/setcharacter.js"],"names":["client","stz","query","profile","findOne","username","jid","user","err","setcharacter","parse","attrs","from","to","id","send"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;kBAEe,UAACA,MAAD,EAASC,GAAT,EAAcC,KAAd,EAAwB;AACtC,oBAAQC,OAAR,CAAgBC,OAAhB,CAAwB,EAACC,UAAUL,OAAOM,GAAP,CAAWC,IAAtB,EAAxB,EAAqD,UAASC,GAAT,EAAcD,IAAd,EAAoB;;AAElE,YAAIE,eAAe,cAAIC,KAAJ,CACf,aAAWT,IAAIU,KAAJ,CAAUC,IAArB,GAA0B,UAA1B,GAAqCX,IAAIU,KAAJ,CAAUE,EAA/C,GAAkD,QAAlD,GAA2DZ,IAAIU,KAAJ,CAAUG,EAArE,GAAwE,kBAAxE,GACI,mCADJ,GAEK,gBAFL,GAIK,iBAJL,GAKR,UALQ,GAMA,OAPe,CAAnB;AASAd,eAAOe,IAAP,CAAYN,YAAZ;AAEN,KAbD;AAcA,C","file":"setcharacter.js","sourcesContent":["import Account from '../../modules/account/model';\nimport xmpp from 'node-xmpp-server';\nimport ltx from 'ltx';\n\nexport default (client, stz, query) => {\n\tAccount.profile.findOne({username: client.jid.user}, function(err, user) {\n\n        let setcharacter = ltx.parse(\n            \"<iq to='\"+stz.attrs.from+\"' from='\"+stz.attrs.to+\"' id='\"+stz.attrs.id+\"' type='result'>\"+\n                \"<query xmlns='urn:cryonline:k01'>\"+\n                \t\"<setcharacter>\"+\n                \t\t\n                \t\"</setcharacter>\"+\n\t\t\t\t\"</query>\"+\n            \"</iq>\"\n        )\n        client.send(setcharacter); \n\n\t});\n};"]}