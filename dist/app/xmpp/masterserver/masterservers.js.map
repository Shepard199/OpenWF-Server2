{"version":3,"sources":["../../../../src/app/xmpp/masterserver/masterservers.js"],"names":["client","stz","auth","findOne","username","jid","user","err","masterservers","parse","attrs","from","to","id","send"],"mappings":"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","file":"masterservers.js","sourcesContent":["import Account from '../../modules/account/model';\nimport xmpp from 'node-xmpp-server';\nimport ltx from 'ltx';\n\nexport default (client, stz) => {\n\tAccount.auth.findOne({username: client.jid.user}, function(err, user) {\n        let masterservers = ltx.parse(\n            \"<iq to='\"+stz.attrs.from+\"' from='\"+stz.attrs.to+\"' id='\"+stz.attrs.id+\"' type='result'>\"+\n                \"<query xmlns='urn:cryonline:k01'>\"+\n                    \"<get_master_servers>\"+\n                        \"<masterservers>\"+\n                            \"<server resource='main_pve_6' server_id='6' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='245'/>\"+\n                                    \"<load_stat type='pve' value='244'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pve_7' server_id='7' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='243'/>\"+\n                                    \"<load_stat type='pve' value='248'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_skilled_2' server_id='202' channel='pvp_skilled' rank_group='all' load='0.000000' online='0' min_rank='16' max_rank='40' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_skilled_6' server_id='206' channel='pvp_skilled' rank_group='all' load='0.000000' online='0' min_rank='16' max_rank='40' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='249'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_newbie_2' server_id='102' channel='pvp_newbie' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='15' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='245'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_pro_2' server_id='302' channel='pvp_pro' rank_group='all' load='0.000000' online='0' min_rank='41' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_pro_5' server_id='305' channel='pvp_pro' rank_group='all' load='0.000000' online='0' min_rank='41' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='241'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pve_9' server_id='9' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n                            \n                            \"<server resource='main_pvp_pro_1' server_id='301' channel='pvp_pro' rank_group='all' load='0.000000' online='0' min_rank='41' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='240'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pve_8' server_id='8' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='240'/>\"+\n                                    \"<load_stat type='pve' value='243'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_newbie_3' server_id='103' channel='pvp_newbie' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='15' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='237'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_newbie_4' server_id='104' channel='pvp_newbie' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='15' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='241'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_skilled_1' server_id='201' channel='pvp_skilled' rank_group='all' load='0.000000' online='0' min_rank='16' max_rank='40' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='232'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_pro_6' server_id='306' channel='pvp_pro' rank_group='all' load='0.000000' online='0' min_rank='41' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_skilled_5' server_id='205' channel='pvp_skilled' rank_group='all' load='0.000000' online='0' min_rank='16' max_rank='40' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='243'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_skilled_3' server_id='203' channel='pvp_skilled' rank_group='all' load='0.000000' online='0' min_rank='16' max_rank='40' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='232'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pve_5' server_id='5' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='243'/>\"+\n                                    \"<load_stat type='pve' value='248'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pve_1' server_id='1' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='246'/>\"+\n                                    \"<load_stat type='pve' value='245'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pve_2' server_id='2' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='247'/>\"+\n                                    \"<load_stat type='pve' value='246'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n                            \n                            \"<server resource='main_pvp_pro_7' server_id='307' channel='pvp_pro' rank_group='all' load='0.000000' online='0' min_rank='41' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='247'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_newbie_1' server_id='101' channel='pvp_newbie' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='15' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='228'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_pro_8' server_id='308' channel='pvp_pro' rank_group='all' load='0.000000' online='0' min_rank='41' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='240'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pve_3' server_id='3' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='243'/>\"+\n                                    \"<load_stat type='pve' value='246'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_pro_3' server_id='303' channel='pvp_pro' rank_group='all' load='0.000000' online='0' min_rank='41' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='243'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pve_10' server_id='10' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='249'/>\"+\n                                    \"<load_stat type='pve' value='239'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_pro_4' server_id='304' channel='pvp_pro' rank_group='all' load='0.000000' online='0' min_rank='41' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='244'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pve_4' server_id='4' channel='pve' rank_group='all' load='0.000000' online='0' min_rank='1' max_rank='80' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='255'/>\"+\n                                    \"<load_stat type='survival' value='249'/>\"+\n                                    \"<load_stat type='pve' value='240'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n\n                            \"<server resource='main_pvp_skilled_4' server_id='204' channel='pvp_skilled' rank_group='all' load='0.000000' online='0' min_rank='16' max_rank='40' bootstrap=''>\"+\n                                \"<load_stats>\"+\n                                    \"<load_stat type='quick_play' value='249'/>\"+\n                                    \"<load_stat type='survival' value='255'/>\"+\n                                    \"<load_stat type='pve' value='255'/>\"+\n                                \"</load_stats>\"+\n                            \"</server>\"+\n                        \"</masterservers>\"+\n                    \"</get_master_servers>\"+\n                \"</query>\"+\n            \"</iq>\"\n        )\n        client.send(masterservers); \n\t});\n};"]}