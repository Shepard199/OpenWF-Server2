{"version":3,"sources":["../../../../src/app/xmpp/playerstats/playerstats.js"],"names":["client","stz","auth","findOne","username","jid","user","err","stats","parse","attrs","from","to","id","send"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;kBAEe,UAACA,MAAD,EAASC,GAAT,EAAiB;AAC/B,oBAAQC,IAAR,CAAaC,OAAb,CAAqB,EAACC,UAAUJ,OAAOK,GAAP,CAAWC,IAAtB,EAArB,EAAkD,UAASC,GAAT,EAAcD,IAAd,EAAoB;AAC/D,YAAIE,QAAQ,cAAIC,KAAJ,CACR,aAAWR,IAAIS,KAAJ,CAAUC,IAArB,GAA0B,UAA1B,GAAqCV,IAAIS,KAAJ,CAAUE,EAA/C,GAAkD,QAAlD,GAA2DX,IAAIS,KAAJ,CAAUG,EAArE,GAAwE,kBAAxE,GACI,mCADJ,GAEQ,oBAFR,GAGY,kDAHZ,GAIY,kDAJZ,GAKY,sDALZ,GAMY,6CANZ,GAOY,+CAPZ,GAQY,gDARZ,GASY,wEATZ,GAUY,2DAVZ,GAWY,yDAXZ,GAYY,2DAZZ,GAaY,qDAbZ,GAcY,sEAdZ,GAeY,oEAfZ,GAgBY,yEAhBZ,GAiBY,0EAjBZ,GAkBY,sFAlBZ,GAmBY,0DAnBZ,GAoBY,yDApBZ,GAqBY,uDArBZ,GAsBY,mEAtBZ,GAuBY,iEAvBZ,GAwBY,uEAxBZ,GAyBY,gDAzBZ,GA0BY,wEA1BZ,GA2BY,mEA3BZ,GA4BY,iEA5BZ,GA6BY,qEA7BZ,GA8BY,uEA9BZ,GA+BY,sEA/BZ,GAgCY,oEAhCZ,GAiCY,wEAjCZ,GAkCY,0EAlCZ,GAmCY,2CAnCZ,GAoCY,4DApCZ,GAqCY,sEArCZ,GAsCY,uCAtCZ,GAuCY,kEAvCZ,GAwCY,gEAxCZ,GAyCY,oEAzCZ,GA0CY,sEA1CZ,GA2CY,6CA3CZ,GA4CY,qEA5CZ,GA6CY,qEA7CZ,GA8CY,mEA9CZ,GA+CY,wEA/CZ,GAgDY,yEAhDZ,GAiDY,kFAjDZ,GAkDY,2DAlDZ,GAmDY,qEAnDZ,GAoDY,sDApDZ,GAqDY,oFArDZ,GAsDY,wDAtDZ,GAuDY,0DAvDZ,GAwDY,mEAxDZ,GAyDY,oDAzDZ,GA0DY,kFA1DZ,GA2DY,oEA3DZ,GA4DY,yEA5DZ,GA6DY,sDA7DZ,GA8DY,wEA9DZ,GA+DY,wDA/DZ,GAgEY,6FAhEZ,GAiEY,mFAjEZ,GAkEY,uFAlEZ,GAmEY,kFAnEZ,GAoEQ,qBApER,GAqEI,UArEJ,GAsEA,OAvEQ,CAAZ;AAyEAb,eAAOc,IAAP,CAAYN,KAAZ;AACN,KA3ED;AA4EA,C","file":"playerstats.js","sourcesContent":["import Account from '../../modules/account/model';\nimport xmpp from 'node-xmpp-server';\nimport ltx from 'ltx';\n\nexport default (client, stz) => {\n\tAccount.auth.findOne({username: client.jid.user}, function(err, user) {\n        let stats = ltx.parse(\n            \"<iq to='\"+stz.attrs.from+\"' from='\"+stz.attrs.to+\"' id='\"+stz.attrs.id+\"' type='result'>\"+\n                \"<query xmlns='urn:cryonline:k01'>\"+\n                    \"<get_player_stats>\"+\n                        \"<stat stat='player_online_time' Value='786260'/>\"+\n                        \"<stat stat='player_gained_money' Value='23677'/>\"+\n                        \"<stat stat='player_max_session_time' Value='11680'/>\"+\n                        \"<stat stat='player_damage' Value='197428'/>\"+\n                        \"<stat stat='player_max_damage' Value='1650'/>\"+\n                        \"<stat stat='player_ammo_restored' Value='17'/>\"+\n                        \"<stat difficulty='' mode='PVP' stat='player_sessions_lost' Value='9'/>\"+\n                        \"<stat mode='PVP' stat='player_sessions_left' Value='14'/>\"+\n                        \"<stat mode='PVP' stat='player_kill_streak' Value='12'/>\"+\n                        \"<stat mode='PVP' stat='player_kills_player' Value='503'/>\"+\n                        \"<stat mode='PVP' stat='player_deaths' Value='337'/>\"+\n                        \"<stat class='Rifleman' mode='PVP' stat='player_shots' Value='6517'/>\"+\n                        \"<stat class='Rifleman' mode='PVP' stat='player_hits' Value='867'/>\"+\n                        \"<stat class='Rifleman' mode='PVP' stat='player_headshots' Value='158'/>\"+\n                        \"<stat class='Rifleman' mode='PVP' stat='player_playtime' Value='50514'/>\"+\n                        \"<stat difficulty='trainingmission' mode='PVE' stat='player_sessions_won' Value='2'/>\"+\n                        \"<stat mode='PVE' stat='player_sessions_left' Value='4'/>\"+\n                        \"<stat mode='PVE' stat='player_kill_streak' Value='37'/>\"+\n                        \"<stat mode='PVE' stat='player_kills_ai' Value='131'/>\"+\n                        \"<stat class='Recon' mode='PVE' stat='player_shots' Value='1220'/>\"+\n                        \"<stat class='Recon' mode='PVE' stat='player_hits' Value='384'/>\"+\n                        \"<stat class='Recon' mode='PVE' stat='player_playtime' Value='21211'/>\"+\n                        \"<stat stat='player_climb_assists' Value='14'/>\"+\n                        \"<stat difficulty='' mode='PVP' stat='player_sessions_won' Value='13'/>\"+\n                        \"<stat class='Recon' mode='PVP' stat='player_shots' Value='1408'/>\"+\n                        \"<stat class='Recon' mode='PVP' stat='player_hits' Value='318'/>\"+\n                        \"<stat class='Recon' mode='PVP' stat='player_headshots' Value='46'/>\"+\n                        \"<stat class='Recon' mode='PVP' stat='player_playtime' Value='55817'/>\"+\n                        \"<stat class='Engineer' mode='PVP' stat='player_shots' Value='2627'/>\"+\n                        \"<stat class='Engineer' mode='PVP' stat='player_hits' Value='404'/>\"+\n                        \"<stat class='Engineer' mode='PVP' stat='player_headshots' Value='54'/>\"+\n                        \"<stat class='Engineer' mode='PVP' stat='player_playtime' Value='25467'/>\"+\n                        \"<stat stat='player_repair' Value='1211'/>\"+\n                        \"<stat mode='PVP' stat='player_kills_claymore' Value='11'/>\"+\n                        \"<stat mode='PVP' stat='player_sessions_lost_connection' Value='11'/>\"+\n                        \"<stat stat='player_heal' Value='14'/>\"+\n                        \"<stat class='Medic' mode='PVP' stat='player_shots' Value='233'/>\"+\n                        \"<stat class='Medic' mode='PVP' stat='player_hits' Value='27'/>\"+\n                        \"<stat class='Medic' mode='PVP' stat='player_headshots' Value='1'/>\"+\n                        \"<stat class='Medic' mode='PVP' stat='player_playtime' Value='1035'/>\"+\n                        \"<stat stat='player_climb_coops' Value='5'/>\"+\n                        \"<stat mode='PVE' stat='player_sessions_lost_connection' Value='2'/>\"+\n                        \"<stat class='Engineer' mode='PVE' stat='player_shots' Value='275'/>\"+\n                        \"<stat class='Engineer' mode='PVE' stat='player_hits' Value='79'/>\"+\n                        \"<stat class='Engineer' mode='PVE' stat='player_headshots' Value='11'/>\"+\n                        \"<stat class='Engineer' mode='PVE' stat='player_playtime' Value='3384'/>\"+\n                        \"<stat difficulty='easymission' mode='PVE' stat='player_sessions_won' Value='1'/>\"+\n                        \"<stat mode='PVE' stat='player_kills_claymore' Value='9'/>\"+\n                        \"<stat class='Recon' mode='PVE' stat='player_headshots' Value='83'/>\"+\n                        \"<stat stat='player_resurrected_by_coin' Value='48'/>\"+\n                        \"<stat difficulty='normalmission' mode='PVE' stat='player_sessions_won' Value='1'/>\"+\n                        \"<stat mode='PVE' stat='player_kills_melee' Value='8'/>\"+\n                        \"<stat mode='PVE' stat='player_kills_player' Value='37'/>\"+\n                        \"<stat mode='PVE' stat='player_kills_player_friendly' Value='37'/>\"+\n                        \"<stat mode='PVE' stat='player_deaths' Value='53'/>\"+\n                        \"<stat difficulty='hardmission' mode='PVE' stat='player_sessions_won' Value='1'/>\"+\n                        \"<stat class='Rifleman' mode='PVE' stat='player_shots' Value='78'/>\"+\n                        \"<stat class='Rifleman' mode='PVE' stat='player_playtime' Value='2587'/>\"+\n                        \"<stat stat='player_resurrected_by_medic' Value='1'/>\"+\n                        \"<stat difficulty='' mode='PVP' stat='player_sessions_draw' Value='1'/>\"+\n                        \"<stat mode='PVP' stat='player_kills_melee' Value='1'/>\"+\n                        \"<stat class='Rifleman' item_type='ar12_gold01_shop' stat='player_wpn_usage' Value='32110'/>\"+\n                        \"<stat class='Recon' item_type='pt14_shop' stat='player_wpn_usage' Value='28567'/>\"+\n                        \"<stat class='Engineer' item_type='smg25_shop' stat='player_wpn_usage' Value='16123'/>\"+\n                        \"<stat class='Medic' item_type='shg07_shop' stat='player_wpn_usage' Value='590'/>\"+\n                    \"</get_player_stats>\"+\n                \"</query>\"+\n            \"</iq>\"\n        )\n        client.send(stats); \n\t});\n};"]}