{"version":3,"sources":["../../../../src/app/xmpp/clans/clans.js"],"names":["client","stz","auth","findOne","username","jid","user","err","clans","parse","attrs","from","to","id","send"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;kBAEe,UAACA,MAAD,EAASC,GAAT,EAAiB;AAC/B,oBAAQC,IAAR,CAAaC,OAAb,CAAqB,EAACC,UAAUJ,OAAOK,GAAP,CAAWC,IAAtB,EAArB,EAAkD,UAASC,GAAT,EAAcD,IAAd,EAAoB;AAC/D,YAAIE,QAAQ,cAAIC,KAAJ,CACR,aAAWR,IAAIS,KAAJ,CAAUC,IAArB,GAA0B,UAA1B,GAAqCV,IAAIS,KAAJ,CAAUE,EAA/C,GAAkD,QAAlD,GAA2DX,IAAIS,KAAJ,CAAUG,EAArE,GAAwE,kBAAxE,GACI,mCADJ,GAEQ,aAFR,GAGY,iCAHZ,GAIgB,kLAJhB,GAKY,qBALZ,GAMQ,cANR,GAOI,UAPJ,GAQA,OATQ,CAAZ;AAWAb,eAAOc,IAAP,CAAYN,KAAZ;AACN,KAbD;AAcA,C","file":"clans.js","sourcesContent":["import Account from '../../modules/account/model';\nimport xmpp from 'node-xmpp-server';\nimport ltx from 'ltx';\n\nexport default (client, stz) => {\n\tAccount.auth.findOne({username: client.jid.user}, function(err, user) {\n        let clans = ltx.parse(\n            \"<iq to='\"+stz.attrs.from+\"' from='\"+stz.attrs.to+\"' id='\"+stz.attrs.id+\"' type='result'>\"+\n                \"<query xmlns='urn:cryonline:k01'>\"+\n                    \"<clan_list>\"+\n                        \"<clan_performance position='0'>\"+\n                            \"<clan name='Privado' clan_id='1' creation_date='1463967639' master='Rubens' clan_points='0' members='1' master_badge='4294967295' master_stripe='4294967295' master_mark='528'/>\"+\n                        \"</clan_performance>\"+\n                    \"</clan_list>\"+\n                \"</query>\"+\n            \"</iq>\"\n        )\n        client.send(clans); \n\t});\n};"]}